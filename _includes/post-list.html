{%- if pagedItems.pageData.length > 0 -%}
  {%- assign livePosts = pagedItems.pageData -%}
{%- else -%}
  {%- assign livePosts = collections.livePosts -%}
{%- endif -%}
<div class="my-ryt-xl">
  {%- for p in livePosts  -%}

    {%- if limit > 0 and forloop.index > limit -%}
      {%- break -%}
    {%- endif -%}

    {%- if p.url == page.url -%}
      {%- continue -%}
    {%- endif -%}

    {%- assign href = p.url -%}

    {%- assign count = count | plus: 1 -%}

    <article>
      {% if p.data.title != "" and p.data.title != nil and p.data.title != "notitle" and p.data.notitle == nil %}
        <h2 class="mt-ryt-lg mb-0">
          <a class="no-underline" href="{{p.url}}">
            {{ p.data.title }}
          </a>
        </h2>
      {% else %}
        <p>{{ p.templateContent | strip_html | strip | truncatewords : 25
 , "&nbsp;â€¦ " }}
          <a href="{{p.url}}">Read more</a>
        </p>
      {% endif %}
      <aside class="{{p.data.starred}}">
        {% include "date-tags.html" posted: p.date tags: p.data.tags notags: p.data.notags %}
      </aside>
    </article>

  {%- endfor -%}
  {%- include "pagination-nav.html" -%}
</div>

{%- include "site-tags.html" -%}
{%- include "search-field.html" -%}